<target name="{{ targetName }}" description="Perform syntax check of changed sourcecode files in parallel">
    <exec executable="sh" failonerror="true">
        <arg value="-c"/>
        <arg value="git diff --cached --name-only -- {% for extension in extensions %} '*.{{ extension|escape('xml') }}'{% endfor %} | tr '\n' ' ' | xargs -n 1 -P 4 php -l 1>/dev/null"/>
    </exec>
    <echo message="OK"/>
</target>
